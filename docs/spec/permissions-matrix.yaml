version: 1
roles:
  - code: super_admin
    inherits: [admin, user]
  - code: admin
    inherits: [user]
  - code: user
    inherits: []

permissions:
  # module access
  - code: blog.access
  - code: english.access
  - code: job.access
  - code: todo.access
  - code: ai.access
  - code: system.access
  # english features
  - code: english.word.manage
  - code: english.expression.manage
  - code: english.news.manage
  - code: english.pronunciation.manage
  - code: english.progress.view

role_bindings:
  super_admin: ['*']
  admin:
    - system.access
    - system.user.manage
    - system.role.manage
    - system.permission.manage
    - blog.access
    - english.access
    - todo.access
  user:
    - blog.access
    - english.access
    - todo.access

pages:
  - path: /english
    needs: [english.access]
  - path: /english/words
    needs: [english.access]
  - path: /system/permissions
    needs: [system.access]

api:
  - method: GET
    path: /api/v1/english/words/
    needs: [english.access]
  - method: POST
    path: /api/v1/english/words/
    needs: [english.access, english.word.manage]
  - method: GET
    path: /api/v1/english/words/{id}/
    needs: [english.access]
  - method: PUT
    path: /api/v1/english/words/{id}/
    needs: [english.access, english.word.manage]
  - method: DELETE
    path: /api/v1/english/words/{id}/
    needs: [english.access, english.word.manage]
  - method: GET
    path: /api/v1/english/progress/
    needs: [english.access, english.progress.view]
  - method: POST
    path: /api/v1/english/progress/
    needs: [english.access]
  - method: GET
    path: /api/v1/english/expressions/
    needs: [english.access]
  - method: GET
    path: /api/v1/english/news/
    needs: [english.access]
  - method: GET
    path: /api/v1/english/news/{id}/
    needs: [english.access]
  - method: POST
    path: /api/v1/english/news/crawl/
    needs: [english.access, english.news.manage]
