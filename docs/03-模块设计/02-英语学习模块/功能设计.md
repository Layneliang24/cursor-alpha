# 英语学习模块功能设计

## 1. 模块概述

### 1.1 模块定位
英语学习模块是Alpha平台的核心学习模块之一，旨在为用户提供全面的英语学习解决方案，包括词汇学习、表达练习、新闻阅读、发音训练等功能。

### 1.2 核心价值
- **系统化学习**：提供结构化的英语学习路径
- **实用性强**：注重实际应用场景的英语表达
- **个性化**：根据用户水平提供定制化学习内容
- **持续更新**：通过爬虫获取最新的英语学习资源

### 1.3 功能架构
```
英语学习模块
├── 词汇管理
│   ├── 单词库管理
│   ├── 学习计划
│   └── 复习系统
├── 表达学习
│   ├── 地道表达
│   ├── 场景分类
│   └── 练习测试
├── 新闻阅读
│   ├── 新闻爬取
│   ├── 难度分级
│   └── 阅读理解
├── 发音练习
│   ├── 音标学习
│   ├── 发音对比
│   └── 录音练习
└── 学习分析
    ├── 学习进度
    ├── 薄弱环节
    └── 学习建议
```

## 2. 核心功能设计

### 2.1 词汇管理系统

#### 2.1.1 单词库管理
- **单词信息**：拼写、音标、词性、释义、例句
- **分类标签**：难度等级、主题分类、使用频率
- **学习状态**：未学习、学习中、已掌握、需复习
- **批量操作**：导入、导出、批量修改

#### 2.1.2 学习计划
- **计划制定**：每日学习量、复习频率、目标设定
- **智能推荐**：基于遗忘曲线推荐复习内容
- **进度跟踪**：学习进度可视化展示
- **计划调整**：根据学习效果动态调整

#### 2.1.3 复习系统
- **间隔复习**：基于艾宾浩斯遗忘曲线
- **多种题型**：选择题、填空题、拼写题
- **错题管理**：错题收集、重点复习
- **复习提醒**：定时提醒复习任务

### 2.2 表达学习系统

#### 2.2.1 地道表达
- **表达分类**：日常对话、商务英语、学术英语
- **场景标签**：工作、生活、旅行、面试等
- **使用频率**：高频、中频、低频标记
- **文化背景**：表达的文化内涵和背景

#### 2.2.2 练习测试
- **情境对话**：模拟真实场景的对话练习
- **表达替换**：同义表达的学习和练习
- **造句练习**：使用新学表达造句
- **理解测试**：表达含义的理解测试

### 2.3 新闻阅读系统

#### 2.3.1 新闻爬取
- **新闻源管理**：BBC、CNN、Reuters等权威媒体
- **内容分类**：科技、经济、文化、体育等
- **难度分级**：初级、中级、高级
- **更新频率**：每日、每周、自定义

#### 2.3.2 阅读理解
- **生词标注**：自动标注生词并提供释义
- **重点句标注**：语法重点、表达亮点
- **理解测试**：阅读理解题目
- **讨论功能**：用户讨论和分享

### 2.4 发音练习系统

#### 2.4.1 音标学习
- **音标展示**：国际音标、美式音标
- **发音示范**：标准发音音频
- **发音要点**：发音技巧和注意事项
- **对比练习**：相似音标的对比练习

#### 2.4.2 录音练习
- **录音功能**：用户录音练习
- **发音对比**：与标准发音对比
- **评分系统**：发音准确度评分
- **改进建议**：具体的改进建议

## 3. 技术实现

### 3.1 数据库设计

#### 3.1.1 单词表 (words)
```sql
CREATE TABLE words (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    word VARCHAR(100) NOT NULL,
    phonetic VARCHAR(100),
    part_of_speech VARCHAR(50),
    definition TEXT,
    example TEXT,
    difficulty_level ENUM('beginner', 'intermediate', 'advanced'),
    category VARCHAR(100),
    frequency_rank INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

#### 3.1.2 用户学习记录表 (user_word_progress)
```sql
CREATE TABLE user_word_progress (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    word_id BIGINT NOT NULL,
    status ENUM('not_learned', 'learning', 'mastered', 'need_review'),
    review_count INT DEFAULT 0,
    last_review_date TIMESTAMP,
    next_review_date TIMESTAMP,
    mastery_level DECIMAL(3,2) DEFAULT 0.0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (word_id) REFERENCES words(id)
);
```

#### 3.1.3 表达表 (expressions)
```sql
CREATE TABLE expressions (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    expression VARCHAR(500) NOT NULL,
    meaning TEXT,
    category VARCHAR(100),
    scenario VARCHAR(100),
    difficulty_level ENUM('beginner', 'intermediate', 'advanced'),
    usage_frequency ENUM('high', 'medium', 'low'),
    cultural_background TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 3.1.4 新闻文章表 (english_news)
```sql
CREATE TABLE english_news (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(500) NOT NULL,
    content TEXT,
    source VARCHAR(100),
    url VARCHAR(500),
    category VARCHAR(100),
    difficulty_level ENUM('beginner', 'intermediate', 'advanced'),
    publish_date DATE,
    word_count INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 3.2 API设计

#### 3.2.1 词汇管理API
```python
# 单词管理
GET    /api/v1/english/words/              # 获取单词列表
POST   /api/v1/english/words/              # 创建单词
GET    /api/v1/english/words/{id}/         # 获取单词详情
PUT    /api/v1/english/words/{id}/         # 更新单词
DELETE /api/v1/english/words/{id}/         # 删除单词

# 学习进度
GET    /api/v1/english/progress/           # 获取学习进度
POST   /api/v1/english/progress/           # 更新学习进度
GET    /api/v1/english/progress/review/    # 获取复习列表

# 学习计划
GET    /api/v1/english/plans/              # 获取学习计划
POST   /api/v1/english/plans/              # 创建学习计划
PUT    /api/v1/english/plans/{id}/         # 更新学习计划
```

#### 3.2.2 表达学习API
```python
# 表达管理
GET    /api/v1/english/expressions/        # 获取表达列表
POST   /api/v1/english/expressions/        # 创建表达
GET    /api/v1/english/expressions/{id}/   # 获取表达详情

# 练习测试
GET    /api/v1/english/practice/           # 获取练习题
POST   /api/v1/english/practice/submit/    # 提交练习答案
GET    /api/v1/english/practice/history/   # 获取练习历史
```

#### 3.2.3 新闻阅读API
```python
# 新闻管理
GET    /api/v1/english/news/               # 获取新闻列表
GET    /api/v1/english/news/{id}/          # 获取新闻详情
POST   /api/v1/english/news/crawl/         # 触发新闻爬取

# 阅读理解
GET    /api/v1/english/news/{id}/quiz/     # 获取阅读理解题
POST   /api/v1/english/news/{id}/quiz/     # 提交答案
```

### 3.3 前端组件设计

#### 3.3.1 单词学习组件
```vue
<template>
  <div class="word-learning">
    <div class="word-card">
      <div class="word-header">
        <h2>{{ currentWord.word }}</h2>
        <span class="phonetic">[{{ currentWord.phonetic }}]</span>
      </div>
      <div class="word-content">
        <p class="definition">{{ currentWord.definition }}</p>
        <p class="example">{{ currentWord.example }}</p>
      </div>
      <div class="word-actions">
        <el-button @click="playAudio">播放发音</el-button>
        <el-button @click="markAsLearned">已掌握</el-button>
        <el-button @click="needReview">需复习</el-button>
      </div>
    </div>
  </div>
</template>
```

#### 3.3.2 学习进度组件
```vue
<template>
  <div class="learning-progress">
    <el-progress 
      :percentage="progressPercentage" 
      :format="format"
      :stroke-width="20"
    />
    <div class="progress-stats">
      <div class="stat-item">
        <span class="label">已学习</span>
        <span class="value">{{ stats.learned }}</span>
      </div>
      <div class="stat-item">
        <span class="label">待复习</span>
        <span class="value">{{ stats.review }}</span>
      </div>
      <div class="stat-item">
        <span class="label">已掌握</span>
        <span class="value">{{ stats.mastered }}</span>
      </div>
    </div>
  </div>
</template>
```

### 3.4 爬虫系统集成

#### 3.4.1 新闻爬虫
```python
class NewsCrawler:
    def __init__(self):
        self.sources = {
            'bbc': 'https://www.bbc.com/news',
            'cnn': 'https://www.cnn.com',
            'reuters': 'https://www.reuters.com'
        }
    
    def crawl_news(self, source, category=None):
        """爬取指定来源的新闻"""
        pass
    
    def process_content(self, content):
        """处理新闻内容，提取生词、重点句等"""
        pass
    
    def calculate_difficulty(self, text):
        """计算文本难度等级"""
        pass
```

#### 3.4.2 词汇爬虫
```python
class VocabularyCrawler:
    def __init__(self):
        self.sources = [
            'https://www.vocabulary.com',
            'https://www.wordreference.com'
        ]
    
    def crawl_vocabulary(self, level, category):
        """爬取指定级别和分类的词汇"""
        pass
    
    def extract_word_info(self, word):
        """提取单词详细信息"""
        pass
```

## 4. 性能优化

### 4.1 缓存策略
- **Redis缓存**：缓存常用单词、表达、新闻列表
- **CDN加速**：音频文件、图片资源CDN分发
- **本地存储**：用户学习进度本地缓存

### 4.2 数据库优化
- **索引优化**：单词、用户进度表索引优化
- **分页查询**：大量数据分页加载
- **读写分离**：查询和写入分离

### 4.3 前端优化
- **懒加载**：图片、音频资源懒加载
- **虚拟滚动**：长列表虚拟滚动
- **预加载**：下一个学习内容预加载

## 5. 安全考虑

### 5.1 数据安全
- **用户数据隔离**：不同用户数据严格隔离
- **敏感信息加密**：用户学习记录加密存储
- **访问控制**：API访问权限控制

### 5.2 内容安全
- **内容审核**：爬取内容安全审核
- **版权保护**：尊重内容版权
- **用户生成内容**：用户提交内容审核

## 6. 扩展性设计

### 6.1 模块扩展
- **插件机制**：支持第三方学习插件
- **API开放**：提供开放API供第三方集成
- **数据导入**：支持多种格式数据导入

### 6.2 功能扩展
- **AI辅助**：AI智能推荐学习内容
- **社交功能**：用户间学习交流
- **游戏化**：学习游戏化元素

## 7. 监控和统计

### 7.1 学习统计
- **学习时长**：每日学习时长统计
- **学习效果**：掌握程度统计
- **学习习惯**：学习时间分布分析

### 7.2 系统监控
- **性能监控**：API响应时间、错误率
- **用户行为**：功能使用频率分析
- **内容质量**：内容受欢迎程度分析
