# Alpha项目开发待办事项

## 🎯 **项目概述**
Alpha项目是一个综合性的英语学习平台，包含新闻阅读、单词学习、智能练习等功能模块。

## 📋 **待办任务列表**

### ✅ **已完成任务**

#### **数据库迁移**
- [x] 从SQLite切换到MySQL 8.0
- [x] 创建数据库迁移脚本
- [x] 更新Docker配置
- [x] 验证数据库连接

#### **CI/CD优化**
- [x] 修复GitHub Actions部署超时问题
- [x] 优化部署脚本性能
- [x] 增加部署超时时间到30分钟
- [x] 添加并行构建优化
- [x] 创建CI/CD配置文档

#### **测试体系建设**
- [x] 建立pytest测试框架
- [x] 创建单元测试和集成测试
- [x] 修复Django设置配置问题
- [x] 重组测试文件结构
- [x] 创建测试运行脚本

#### **新闻爬虫升级**
- [x] 移除传统新闻爬虫
- [x] 完全使用Fundus框架
- [x] 支持新闻图片自动下载
- [x] 修复TechCrunch和BBC新闻跳过问题
- [x] 移除字数限制，添加详细跳过原因
- [x] 设置爬取超时时间为300秒

#### **新闻管理优化**
- [x] 移除新闻可见性功能
- [x] 修复新闻删除后列表刷新问题
- [x] 修复新闻管理页面加载错误
- [x] 优化新闻发布日期格式（仅显示日期）
- [x] 修复新闻管理列表显示问题
- [x] 修复爬取按钮无响应问题

#### **前端界面重设计**
- [x] 重新设计英语新闻dashboard
- [x] 创建专门的爬取设置页面
- [x] 创建专门的新闻管理页面
- [x] 实现新闻轮播和更多新闻功能
- [x] 修复导航链接问题
- [x] 修复图标导入错误
- [x] 优化新闻详情页面宽度
- [x] 修复新闻源选择问题
- [x] 修复图片显示问题

#### **图片功能完善**
- [x] 实现新闻图片本地保存
- [x] 修复图片URL路径问题
- [x] 添加图片自动清理功能
- [x] 验证图片访问和显示

---

### 🔄 **进行中任务**

#### **英语学习模块 - 智能打字练习功能集成**
- [x] **第一阶段: 数据导入**
  - [x] 创建TypingWord、TypingSession、UserTypingStats数据模型
  - [x] 编写词库导入脚本 (import_qwerty_dicts.py)
  - [x] 导入Qwerty Learner词库数据 (CET4_T: 2607个, CET6_T: 1313个, TOEFL_3_T: 2076个, GRE_3_T: 4145个)
  - [x] 验证数据导入完整性 (总计: 10141个单词)

- [x] **第二阶段: 后端开发**
  - [x] 实现TypingPracticeViewSet API接口
  - [x] 创建TypingWordSerializer、TypingSessionSerializer、UserTypingStatsSerializer
  - [x] 编写数据统计逻辑
  - [x] 添加用户进度跟踪功能
  - [x] 实现每日学习进度API
  - [x] 测试API接口功能 (认证、参数验证、数据查询)

- [x] **第三阶段: 前端开发**
  - [x] 创建TypingPractice.vue组件
  - [x] 实现useTypingStore状态管理
  - [x] 扩展english.js API接口
  - [x] 添加数据可视化图表 (ECharts)
  - [x] 实现实时拼写检查功能

- [x] **第四阶段: 测试优化**
  - [x] 编写打字练习功能测试 (创建了test_typing_practice.py)
               - [x] 性能优化和用户体验改进
               - [x] 后端API缓存优化 (添加了缓存装饰器和缓存键)
               - [x] 数据库查询优化 (使用select_related和prefetch_related)
               - [x] 前端错误处理和重试机制 (添加了错误处理、重试逻辑)
               - [x] 防抖输入优化 (减少不必要的API调用)
               - [x] 键盘快捷键支持 (Enter/Space提交，Escape跳过)
- [x] qwerty-learner风格UI/UX实现
  - [x] 无输入框的字母颜色变化 (正确/错误/正常状态)
  - [x] 自动播放单词发音 (有道词典API + 语音合成备选)
  - [x] 使用qwerty-learner音频文件 (按键音、正确音、错误音)

- [x] **第五阶段: 前端逻辑修复**
  - [x] 修复"开始练习"按钮状态管理问题
  - [x] 解决状态展开冲突导致的响应式丢失
  - [x] 修复wordState重置逻辑错误
  - [x] 确保第一次点击按钮后正确显示单词

### 第六阶段: 界面重构与功能增强

#### 智能打字练习重构 ✅
- [x] 按任意键开始练习功能
- [x] 集成有道词典API自动发音
- [x] 添加键盘声音反馈系统
- [x] 实时拼写检查与视觉反馈
- [x] 自动跳转下一个单词
- [x] 词库切换功能（CET4/CET6/TOEFL/GRE）
- [x] 难度设置（初级/中级/高级）
- [x] 进度显示与统计
- [x] 练习完成统计界面
- [x] 修复输入问题与状态管理
- [x] **直接进入打字练习界面** - 修改侧边栏链接，点击"智能练习"直接进入打字练习，无需选择练习类型
- [x] **优化页面布局** - 移除调试信息，美化界面设计，提升用户体验
- [x] **简化操作流程** - 页面加载后直接显示"按任意键开始"提示，减少用户操作步骤

#### 界面优化
- [x] 重构页面头部布局，显示统计信息和控制按钮
- [x] 优化练习设置区域，仅在未开始时显示
- [x] 美化单词显示区域，提升视觉效果
- [x] 改进完成界面设计，显示详细统计信息
- [x] 响应式设计优化，适配移动端

#### 功能完善
- [x] 修复键盘事件处理逻辑
- [x] 优化状态管理，确保输入流畅
- [x] 完善错误处理机制
- [x] 添加详细的控制台日志
- [x] 优化音频播放体验

#### 技术改进
- [x] 使用有道词典API替代浏览器发音
- [x] 集成本地音频文件系统
- [x] 优化Vue响应式状态管理
- [x] 改进组件重新渲染机制
- [x] 完善生命周期管理

---

### 📋 **待开始任务**

#### **功能增强**
- [ ] 添加用户学习成就系统
- [ ] 实现学习排行榜功能
- [ ] 添加好友挑战功能
- [ ] 实现个性化学习推荐
- [ ] 添加学习提醒功能

#### **性能优化**
- [ ] 优化新闻爬取性能
- [ ] 改进前端加载速度
- [ ] 优化数据库查询性能
- [ ] 添加缓存机制

#### **用户体验**
- [ ] 添加深色模式支持
- [ ] 实现多语言界面
- [ ] 优化移动端体验
- [ ] 添加键盘快捷键支持

#### **数据分析**
- [ ] 实现学习数据分析
- [ ] 添加学习报告生成
- [ ] 实现学习建议推荐
- [ ] 添加学习效果评估

---

## 🎯 **优先级说明**

### **高优先级**
1. 英语打字练习功能集成 - 核心功能，提升学习体验
2. 数据导入和验证 - 确保功能基础
3. API接口开发 - 前后端通信基础

### **中优先级**
1. 前端组件开发 - 用户界面
2. 数据可视化 - 用户体验提升
3. 测试和优化 - 质量保证

### **低优先级**
1. 成就系统 - 功能增强
2. 社交功能 - 用户粘性
3. 性能优化 - 长期维护

---

## 📊 **进度统计**

- **总任务数**: 45
- **已完成**: 25 (55.6%)
- **进行中**: 12 (26.7%)
- **待开始**: 8 (17.8%)

---

## 🔄 **最近更新**

**2025-08-16**
- ✅ 完成新闻图片显示问题修复
- ✅ 完成新闻管理发布时间显示修复
- ✅ 完成代码推送到远程仓库
- 🔄 开始英语打字练习功能集成设计
- 📋 创建集成设计文档和更新TODO

---

## 📝 **备注**

- 所有新功能开发前需要编写测试
- 代码提交前需要运行测试套件
- 重要功能需要更新相关文档
- 定期检查项目依赖更新
