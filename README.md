# Kibana日志分析工具

## 📋 项目概述

**Kibana日志分析助手** 是一款专为金融交易系统设计的Kibana日志分析GUI工具，提供便捷的日志查询、数据分析和风控监控功能。

## 🎯 核心功能

### 🔧 基础设置模块
- Kibana连接配置（服务器地址、端口、认证信息）
- 默认参数设置（时间范围、索引模式、查询超时）
- 关键词配置（各功能模块的查询关键词和解析规则）

### 💰 客户盈亏计算模块
- 输入：MemberID、股票代码、时间范围、索引名称
- 输出：今日盈亏金额、交易明细列表、盈亏趋势图表

### 🛡️ 风控日志查找模块
- 输入：资产ID、时间范围、风控类型筛选
- 输出：风控触发记录、风控规则详情、处理状态跟踪

### 💳 资金流水日志查找模块
- 输入：MemberID、时间范围、资金类型筛选
- 输出：资金流水明细、余额变动趋势、异常交易标记

### 📊 持仓股票信息查找模块
- 输入：MemberID、时间范围
- 输出：持仓股票列表、持仓成本、当前市值、盈亏情况

### 💪 购买力日志查找模块
- 输入：MemberID、时间范围
- 输出：购买力变动记录、可用资金变化、冻结资金明细

### ⏰ 条件单日志查找模块
- 输入：MemberID、时间范围、条件单状态筛选
- 输出：条件单列表、执行状态、触发条件详情

## 🎨 界面设计

### 整体布局
- **左侧**: 功能模块选择区
- **右侧**: 参数输入和结果显示区
- **顶部**: 导航菜单
- **底部**: 状态栏

### 界面特点
- 简洁明了的设计风格
- 响应式布局，支持窗口缩放
- 直观的操作流程
- 丰富的数据可视化

## 🔧 技术架构

### 前端技术栈
- **框架**: Electron + Vue.js 3
- **UI组件**: Element Plus
- **图表库**: ECharts
- **样式**: SCSS

### 后端技术栈
- **语言**: Node.js
- **HTTP客户端**: Axios
- **数据处理**: Lodash
- **配置管理**: Electron Store

### 核心模块
1. **连接管理模块**: 负责Kibana连接和API调用
2. **查询模板模块**: 管理各种查询模板和参数替换
3. **数据解析模块**: 解析Kibana返回的日志数据
4. **配置管理模块**: 管理应用配置和历史记录

## 📦 项目结构

```
kibana-log-analyzer-tool/
├── 产品设计文档.md          # 产品设计文档
├── 界面原型设计.md          # 界面原型设计
├── 技术实现方案.md          # 技术实现方案
├── README.md               # 项目说明
├── package.json            # 项目配置
├── main.js                 # Electron主进程
├── preload.js              # 预加载脚本
└── src/                    # 源代码目录
    ├── App.vue             # 主应用组件
    ├── main.js             # Vue应用入口
    ├── components/         # Vue组件
    ├── services/           # 核心服务
    ├── utils/              # 工具函数
    └── assets/             # 静态资源
```

## 🚀 快速开始

### 环境要求
- Node.js 16+
- npm 或 yarn

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```

### 构建应用
```bash
npm run build
```

### 打包发布
```bash
npm run dist
```

## 📊 数据流程

### 查询流程
1. **用户输入参数** → 2. **参数验证** → 3. **查询模板渲染** → 4. **Kibana API调用** → 5. **数据解析** → 6. **结果展示**

### 错误处理
- 网络连接异常
- 认证失败
- 查询超时
- 数据格式错误
- 权限不足

## 🎯 用户体验设计

### 交互设计原则
1. **简洁明了**: 界面简洁，操作直观
2. **快速响应**: 查询结果快速返回
3. **错误友好**: 清晰的错误提示和解决建议
4. **数据可视化**: 图表展示，便于分析

### 快捷键支持
- `Ctrl + Enter`: 执行查询
- `Ctrl + S`: 保存配置
- `Ctrl + E`: 导出结果
- `F5`: 刷新数据

### 历史记录功能
- 保存最近10次查询
- 支持查询条件复用
- 查询结果缓存

## 🔒 安全设计

### 数据安全
- 敏感信息加密存储
- 连接信息本地保存
- 查询日志审计

### 权限控制
- 用户角色管理
- 功能模块权限
- 数据访问控制

## 📈 性能优化

### 查询优化
- 查询结果分页
- 数据缓存机制
- 异步查询处理

### 界面优化
- 虚拟滚动
- 懒加载
- 防抖处理

## 🚀 部署方案

### 打包发布
- Electron Builder打包
- 自动更新机制
- 安装程序制作

### 配置管理
- 配置文件热更新
- 多环境配置支持
- 配置导入导出

## 📋 开发计划

### Phase 1 (2周)
- [ ] 基础框架搭建
- [ ] Kibana连接模块
- [ ] 基础设置界面

### Phase 2 (3周)
- [ ] 盈亏计算模块
- [ ] 风控日志模块
- [ ] 资金流水模块

### Phase 3 (2周)
- [ ] 持仓信息模块
- [ ] 购买力模块
- [ ] 条件单模块

### Phase 4 (1周)
- [ ] 数据可视化
- [ ] 导出功能
- [ ] 性能优化

## 📞 技术支持

### 文档支持
- 用户使用手册
- API文档
- 故障排除指南

### 维护计划
- 定期功能更新
- Bug修复
- 性能优化

## 📄 许可证

MIT License

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目。

---

**版本**: v1.0  
**创建日期**: 2024-01-15  
**最后更新**: 2024-01-15